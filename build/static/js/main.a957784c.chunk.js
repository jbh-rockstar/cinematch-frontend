(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{275:function(e,t,a){e.exports=a(482)},280:function(e,t,a){},281:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),c=(a(280),a(21)),s=a(22),l=a(24),u=a(23),p=a(25),h=(a(281),a(64)),m=a(48),d=a(5),v=a.n(d),f=a(20),g=a(538),E=a(534),b=a(524),w=a(525),y=a(528),C=a(138),O=a(527),M=a(526),S=a(249),j=a.n(S),k=a(251),P=a.n(k),_=a(35),T=a(18);var U=Object(T.b)(function(e){return{search:e.search}})(function(e){return r.a.createElement("div",{className:"watchlistMovie",onClick:function(){e.dispatch({type:"VIEW_MOVIE",payload:e.result}),e.changePage("MovieView")},style:{cursor:"pointer"}},r.a.createElement("h2",null,e.result.Title),r.a.createElement("h3",null,function(){if(e.result.Year)return e.result.Year.slice(0,4)}()),r.a.createElement("img",{src:e.result.Poster,alt:"poster",width:"150",height:"150"})," ",r.a.createElement("br",null))}),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleViewMovie=function(){!0===a.props.clicked&&a.props.changeWatchButton();var e="movie";a.props.result.name&&(e="tv"),a.props.dispatch({type:"VIEW_MOVIE",payload:a.props.result}),a.props.fetchWithOMDBId(a.props.result.id,e),document.querySelector("main").scrollTo(0,0)},a.renderSimilar=function(){return a.props.result.name?r.a.createElement("div",{className:"watchlistMovie",style:{cursor:"pointer"},onClick:a.handleViewMovie},r.a.createElement("div",{className:"top",ref:a.topRef}," "),r.a.createElement("h2",null,a.props.result.name),r.a.createElement("p",null,a.props.result.first_air_date.slice(0,4)),r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/"+a.props.result.poster_path,alt:"poster",width:"150",height:"150"})," ",r.a.createElement("br",null)):r.a.createElement("div",{className:"watchlistMovie",style:{cursor:"pointer"},onClick:a.handleViewMovie},r.a.createElement("div",{className:"top",ref:a.topRef}," "),r.a.createElement("h2",null,a.props.result.title),r.a.createElement("p",null,a.props.result.release_date.slice(0,4)),r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/"+a.props.result.poster_path,alt:"poster",width:"150",height:"150"})," ",r.a.createElement("br",null))},a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"top",ref:this.topRef}," "),this.renderSimilar())}}]),t}(r.a.Component);var B=Object(T.b)(function(e){return{search:e.search,user:e.user}})(I),D="https://cinematch-api.herokuapp.com/",N={Accepts:"application/json","Content-Type":"application/json"},R={createPost:function(e){return fetch("".concat(D,"/posts"),{method:"POST",headers:N,body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){})},fetchFeed:function(e){return fetch("".concat(D,"/feeds/").concat(e)).then(function(e){return e.json()}).then(function(e){})}},W=a(522),A=a(92),x=a.n(A),V=a(91),L=a.n(V),G=a(89),F=a.n(G),H=a(90),q=a.n(H),J=a(129),X=a.n(J),Y=a(136),z=a.n(Y),Q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={movie:null,badData:!1,similarMovies:[],clicked:!1,pageCount:1,watchlist:[]},a.fetchMovieInfo=function(){var e=null;a.props.viewMovie.imdbID?e=a.props.viewMovie.imdbID:a.props.viewMovie.imdb_id&&(e=a.props.viewMovie.imdb_id),e.length>9&&(e=a.props.viewMovie.imdbID.slice(0,-1)),fetch("https://api.themoviedb.org/3/find/".concat(e,"?api_key=3eb68659d6134fa388c1a0220feb7fd1&external_source=imdb_id")).then(function(e){return e.json()}).then(function(e){0!==e.movie_results.length?a.setState({movie:e.movie_results[0]},a.fetchSimilarMovies):0!==e.tv_results.length?a.setState({movie:e.tv_results[0]},a.fetchSimilarMovies):a.setState({badData:!0})})},a.fetchWithOMDBId=function(e,t){fetch("https://api.themoviedb.org/3/".concat(t,"/").concat(e,"?api_key=3eb68659d6134fa388c1a0220feb7fd1&language=en-US")).then(function(e){return e.json()}).then(function(e){e?a.setState({movie:e,pageCount:1},a.fetchSimilarMovies):a.setState({badData:!0,pageCount:1})})},a.handleWatchlist=function(){a.changeWatchButton(),a.postToWatchlist(a.props.viewMovie)},a.changeWatchButton=function(){a.setState({clicked:!a.state.clicked})},a.postToWatchlist=function(e){var t=null,n=null,r=null,i=null;e.title?(t=e.title,n=null,r=e.poster?e.poster:"http://image.tmdb.org/t/p/w185/"+e.poster_path,i="movie"):e.Title&&"series"==e.Type?(t=e.Title,n=e.imdbID,r=e.Poster,i="tv"):e.Title&&"movie"==e.Type?(t=e.Title,n=e.imdbID,r=e.Poster,i="movie"):e.name?(t=e.name,n=null,r="http://image.tmdb.org/t/p/w185/"+e.poster_path,i="tv"):(t=a.state.movie.title,n=a.state.movie.imdb_id,r="http://image.tmdb.org/t/p/w185/"+a.state.movie.poster_path),fetch("https://cinematch-api.herokuapp.com/watchlists",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:t,omdb_id:a.state.movie.id,imdb_id:n,user_id:a.props.user.id,poster:r,media:i})}).then(function(e){return e.json()}).then(function(e){})},a.scrollToTopOfPage=function(){document.querySelector("main").scrollTo(0,0)},a.scrollToSim=function(){document.querySelector("main").scrollTo(0,a.similarRef.current.offsetTop)},a.handleBack=function(){if(!a.props.close)return a.props.fetchPosts?(a.props.dispatch({type:"CHANGE_CHATBOX_PAGE",payload:"Chatbox"}),a.scrollToTopOfPage(),void a.props.fetchPosts()):void(a.props.changeToWatchlist?(a.props.changeToWatchlist(),a.scrollToTopOfPage()):a.props.changeToList?(a.props.changeToList(),a.scrollToTopOfPage()):(a.props.changePage("Search"),a.scrollToTopOfPage()));a.props.close()},a.fetchSimilarMovies=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=a.state.movie.id,n="movie";a.state.movie.name?n="tv":a.props.viewMovie.name&&(n="tv",t=a.props.viewMovie.id),fetch("https://api.themoviedb.org/3/".concat(n,"/").concat(t,"/similar?api_key=3eb68659d6134fa388c1a0220feb7fd1&language=en-US&page=").concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({similarMovies:e.results},a.scrollToTopOfPage)})},a.fetchPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=a.state.movie.id,n="movie";a.state.movie.name?n="tv":a.props.viewMovie.name&&(n="tv",t=a.props.viewMovie.id),fetch("https://api.themoviedb.org/3/".concat(n,"/").concat(t,"/similar?api_key=3eb68659d6134fa388c1a0220feb7fd1&language=en-US&page=").concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({similarMovies:e.results},a.scrollToSim)})},a.handleNextPage=function(){a.setState({pageCount:a.state.pageCount+=1},a.fetchPage(a.state.pageCount))},a.handlePrevPage=function(){a.setState({pageCount:a.state.pageCount-=1},a.fetchPage(a.state.pageCount));var e=document.querySelector(".Dashboard-content-12");window.scrollTo(0,e-80)},a.renderSimilarMovies=function(){if(a.state.similarMovies&&a.state.similarMovies.length>0)return a.state.similarMovies.map(function(e){return r.a.createElement(B,{result:e,changePage:a.props.changePage,fetchWithOMDBId:a.fetchWithOMDBId,changeWatchButton:a.changeWatchButton,clicked:a.state.clicked,fetchSimilarMovies:a.fetchSimilarMovies,changeToWatchlist:a.props.changeToWatchlist})})},a.fetchUserWatchlist=function(){fetch("https://cinematch-api.herokuapp.com/users/".concat(a.props.user.id)).then(function(e){return e.json()}).then(function(e){a.setState({watchlist:e.watchlist})})},a.renderWatchButton=function(){if(a.state.watchlist.length>0){if(Object.values(a.state.watchlist).find(function(e){return e.imdb_id===a.props.viewMovie.imdbID}))return r.a.createElement(W.a,{variant:"contained",color:"primary",title:"Already Added to Watchlist"}," ",r.a.createElement(z.a,null)," ");if(Object.values(a.state.watchlist).find(function(e){return e.omdb_id===a.props.viewMovie.id}))return r.a.createElement(W.a,{variant:"contained",color:"primary",title:"Already Added to Watchlist"}," ",r.a.createElement(z.a,null)," ")}return!0===a.state.clicked?r.a.createElement(W.a,{variant:"contained",color:"primary",title:"Already Added to Watchlist"}," ",r.a.createElement(z.a,null)," "):r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleWatchlist,title:"Add to Watchlist"}," ",r.a.createElement(X.a,null)," ")},a.handleShare=function(){var e=null,t=null,n=null,r="movie";a.state.movie.title&&null!=a.state.movie.title?(e="http://image.tmdb.org/t/p/w185/"+a.state.movie.poster_path,t="",n=a.state.movie.id.toString()):a.props.viewMovie.name?(e="http://image.tmdb.org/t/p/w185/"+a.props.viewMovie.poster_path,t="",n=a.props.viewMovie.id,r="tv"):(a.props.viewMovie.poster?(e=a.props.viewMovie.poster,t="",n=a.props.viewMovie.omdb_id):(e=a.props.viewMovie.Poster,t=a.props.viewMovie.imdbID,n=""),r="tv"),a.props.viewMovie.content&&(e=a.props.viewMovie.content,t="",n=a.props.viewMovie.id,r=a.props.viewMovie.media),R.createPost({content:e,feed_id:1,user_id:a.props.user.id,omdb_id:n,imdb_id:t,media:r})},a.renderIMDBButton=function(){return a.props.viewMovie.imdbID&&""!=a.props.viewMovie.imdbID?r.a.createElement("a",{href:"https://www.imdb.com/title/"+a.props.viewMovie.imdbID+"/",target:"_blank"},r.a.createElement("img",{src:"https://yt3.ggpht.com/a-/AAuE7mDrGwDBII_0LO6cM4ud7pVuGIJXSlLrZYEO-Q=s900-mo-c-c0xffffffff-rj-k-no",alt:"poster",width:"35",height:"35",title:"Open IMDB",className:"picture"})," ",r.a.createElement("br",null)):a.props.viewMovie.imdb_id&&""!==a.props.viewMovie.imdb_id?r.a.createElement("a",{href:"https://www.imdb.com/title/"+a.props.viewMovie.imdb_id+"/",target:"_blank"},r.a.createElement("img",{src:"https://yt3.ggpht.com/a-/AAuE7mDrGwDBII_0LO6cM4ud7pVuGIJXSlLrZYEO-Q=s900-mo-c-c0xffffffff-rj-k-no",alt:"poster",width:"35",height:"35",title:"Open IMDB",className:"picture"})," ",r.a.createElement("br",null)):null},a.renderDate=function(e){if(e)return e.substring(0,4)},a.renderMoviePage=function(){return null!==a.state.movie?a.props.viewMovie.name?r.a.createElement("div",null,r.a.createElement("h2",null,a.props.viewMovie.name),r.a.createElement("h3",null,a.renderDate(a.props.viewMovie.first_air_date)),r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/"+a.props.viewMovie.poster_path,alt:"poster",width:"150",height:"150"})," ",r.a.createElement("br",null),r.a.createElement("p",null,a.props.viewMovie.overview),a.renderIMDBButton(),a.renderWatchButton(),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleShare,title:"Share to Chat"}," ",r.a.createElement(F.a,null)," "),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleBack,title:"Go Back"}," ",r.a.createElement(q.a,null)," "),r.a.createElement("div",{ref:a.similarRef}),r.a.createElement("br",null),r.a.createElement("h3",{class:"sim"},"Similar TV Shows Page: ",a.state.pageCount),a.renderPageButtons(),a.renderSimilarMovies()):a.state.movie.name?r.a.createElement("div",null,r.a.createElement("h2",null,a.state.movie.name),r.a.createElement("h3",null,a.renderDate(a.state.movie.first_air_date)),r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/"+a.state.movie.poster_path,alt:"poster",width:"150",height:"150"})," ",r.a.createElement("br",null),r.a.createElement("p",null,a.state.movie.overview),a.renderIMDBButton(),a.renderWatchButton(),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleShare,title:"Share to Chat"}," ",r.a.createElement(F.a,null)," "),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleBack,title:"Go Back"}," ",r.a.createElement(q.a,null)," "),r.a.createElement("div",{ref:a.similarRef}),r.a.createElement("br",null),r.a.createElement("h3",{class:"sim"},"Similar TV Shows Page: ",a.state.pageCount),a.renderPageButtons(),a.renderSimilarMovies()):r.a.createElement("div",null,r.a.createElement("h2",null,a.state.movie.title),r.a.createElement("h3",null,a.renderDate(a.state.movie.release_date)),r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/"+a.state.movie.poster_path,alt:"poster",width:"150",height:"150"})," ",r.a.createElement("br",null),r.a.createElement("p",null,a.state.movie.overview),a.renderIMDBButton(),a.renderWatchButton(),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleShare,title:"Share to Chat"}," ",r.a.createElement(F.a,null)," "),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleBack,title:"Go Back"}," ",r.a.createElement(q.a,null)," "),r.a.createElement("div",{ref:a.similarRef}),r.a.createElement("br",null),r.a.createElement("h3",{class:"sim"},"Similar Movies Page: ",a.state.pageCount),a.renderPageButtons(),a.renderSimilarMovies()):!0===a.state.badData?r.a.createElement("div",null,r.a.createElement("p",null,"Movie Not Found"),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleBack}," Go Back ")):null},a.renderPageButtons=function(){return 1===a.state.pageCount?r.a.createElement(L.a,{onClick:a.handleNextPage}):5===a.state.pageCount?r.a.createElement(x.a,{onClick:a.handleNextPage}):r.a.createElement("div",null,r.a.createElement(x.a,{onClick:a.handlePrevPage}),r.a.createElement("div",{class:"divider"}),r.a.createElement(L.a,{onClick:a.handleNextPage}))},a.componentDidMount=function(){if(a.scrollToTopOfPage(),void 0===a.props.viewMovie.imdb_id&&void 0===a.props.viewMovie.omdb_id&&a.fetchWithOMDBId(a.props.viewMovie.id,"movie"),a.props.viewMovie.feed_id)return""!==a.props.viewMovie.omdb_id?void a.fetchWithOMDBId(a.props.viewMovie.omdb_id,a.props.viewMovie.media):void a.fetchMovieInfo();""===a.props.viewMovie.imdb_id?a.fetchWithOMDBId():""===a.props.viewMovie.omdb_id&&a.fetchMovieInfo(),null!==a.props.viewMovie.imdbID&&void 0!==a.props.viewMovie.imdbID||null!==a.props.viewMovie.imdb_id&&void 0!==a.props.viewMovie.imdb_id?a.fetchMovieInfo():a.props.viewMovie.omdb_id&&null===a.props.viewMovie.imdb_id&&a.fetchWithOMDBId(a.props.viewMovie.omdb_id,a.props.viewMovie.media),a.fetchUserWatchlist()},a.similarRef=r.a.createRef(),a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"movieView"},r.a.createElement("div",{className:"top",ref:this.topRef}," "),this.renderMoviePage(),this.renderPageButtons())}}]),t}(r.a.Component);var Z=Object(T.b)(function(e){return{viewMovie:e.viewMovie,user:e.user,movie:e.movieInfo,history:e.history,chatboxPage:e.chatboxPage}})(Q),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={input:"",results:[],page:"Search"},a.handleTyping=function(e){a.setState({input:e.target.value,page:"Search"}),a.fetchMovies(e.target.value)},a.changePage=function(e){a.setState({page:e}),document.querySelector("main").scrollTo(0,0)},a.slugify=function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe0\xe1\xe3\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",a=0,n=t.length;a<n;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaaeeeeiiiioooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"_").replace(/-+/g,"_")},a.fetchMovies=function(e){var t=a.slugify(e);fetch("http://www.omdbapi.com/?s=".concat(t,"&apikey=7e2663e7")).then(function(e){return e.json()}).then(function(e){"Too many results."!==e.Error&&a.setState({results:e.Search})})},a.renderPage=function(){return"Search"===a.state.page&&a.state.results&&a.state.results!==[]?a.state.results.map(function(e){return r.a.createElement(U,{result:e,changePage:a.changePage})}):"MovieView"===a.state.page?r.a.createElement(Z,{changePage:a.changePage}):void 0},a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.querySelector("main").scrollTo(0,0)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"top",ref:this.topRef}," "),r.a.createElement("div",{className:"searchBox"},r.a.createElement("form",{onKeyPress:function(e){13===e.which&&e.preventDefault()}},r.a.createElement("input",{type:"text",placeholder:"Search...",onChange:this.handleTyping}))),r.a.createElement("p",null,this.renderPage()))}}]),t}(r.a.Component),K=Object(T.b)(null)($),ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={watched:!1},a.handleViewMovie=function(){a.props.dispatch({type:"VIEW_MOVIE",payload:a.props.movie}),a.props.changeViewMovie()},a.renderGenre=function(){for(var e=[],t=0;t<a.props.genres.length;t++)for(var n=0;n<a.props.movie.genre_ids.length;n++)a.props.genres[t].id===a.props.movie.genre_ids[n]&&e.push(a.props.genres[t].name);return r.a.createElement("div",null," ",r.a.createElement("h3",null," ",e.join(", ")," ")," ")},a.renderPage=function(){return r.a.createElement("div",{className:"listMovie",style:{cursor:"pointer"},onClick:a.handleViewMovie},r.a.createElement("h2",null,"IMDB Rating: ",a.props.movie.vote_average),r.a.createElement("h2",null,a.props.movie.title),r.a.createElement("h3",null,a.props.movie.release_date.slice(0,4)),r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/"+a.props.movie.poster_path,alt:"poster",width:"100",height:"100"})," ",r.a.createElement("br",null),a.renderGenre())},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"watchlistMovie"},this.renderPage())}}]),t}(r.a.Component),te=Object(T.b)(null)(ee),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={list:[],viewMovieCheck:!1,viewMovie:null,pageCount:1,genres:[]},a.fetchTopRated=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=3eb68659d6134fa388c1a0220feb7fd1&language=en-US&page=".concat(e)).then(function(e){return e.json()}).then(function(e){a.setState({list:e.results})})},a.fetchGenres=function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=3eb68659d6134fa388c1a0220feb7fd1&language=en-US").then(function(e){return e.json()}).then(function(e){a.setState({genres:e.genres})})},a.changeViewMovie=function(e){a.setState({viewMovieCheck:!0})},a.changeToList=function(){a.setState({viewMovieCheck:!1}),document.querySelector("main").scrollTo(0,0)},a.handleBackButton=function(){a.props.dispatch({type:"CHANGE_CHATBOX_PAGE",payload:"Chatbox"})},a.handleNextPage=function(){a.setState({pageCount:a.state.pageCount+=1},a.fetchTopRated(a.state.pageCount)),document.querySelector(".top").scrollTo(0,a.similarRef.current.offsetTop-80)},a.handlePrevPage=function(){a.setState({pageCount:a.state.pageCount-=1},a.fetchTopRated(a.state.pageCount)),document.querySelector(".top").scrollTo(0,a.similarRef.current.offsetTop-80)},a.renderPageButtons=function(){return!0===a.state.viewMovieCheck?null:1===a.state.pageCount?r.a.createElement(L.a,{onClick:a.handleNextPage}):100===a.state.pageCount?r.a.createElement(x.a,{onClick:a.handleNextPage}):r.a.createElement("div",null,r.a.createElement(x.a,{onClick:a.handlePrevPage}),r.a.createElement("div",{class:"divider"}),r.a.createElement(L.a,{onClick:a.handleNextPage}))},a.renderList=function(){return!1===a.state.viewMovieCheck?a.state.list.map(function(e){return r.a.createElement("div",{className:"list"},r.a.createElement(te,{movie:e,genres:a.state.genres,changeViewMovie:a.changeViewMovie}))}):!0===a.state.viewMovieCheck?r.a.createElement("div",{className:"movieView"},r.a.createElement(Z,{changeToList:a.changeToList})):void 0},a.renderTitle=function(){return!0===a.state.viewMovieCheck?null:r.a.createElement("h3",{ref:a.similarRef},"Top Rated Movies Page: ",a.state.pageCount)},a.componentDidMount=function(){document.querySelector("main").scrollTo(0,0),a.fetchGenres(),a.fetchTopRated()},a.similarRef=r.a.createRef(),a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"top",ref:this.topRef}," "),this.renderTitle(),r.a.createElement("div",{className:"pageButtons"},this.renderPageButtons()),this.renderList(),r.a.createElement("div",{className:"pageButtons"},this.renderPageButtons()))}}]),t}(r.a.Component);var ne=Object(T.b)(function(e){return{user:e.user}})(ae),re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={watched:!1},a.handleRemoveMovie=function(){a.props.changeList(a.props.movie.id),fetch("https://cinematch-api.herokuapp.com/watchlists/".concat(a.props.movie.id),{method:"DELETE"})},a.handleWatchedMovie=function(){a.props.changeList(a.props.movie.id),fetch("https://cinematch-api.herokuapp.com/watchlists/".concat(a.props.movie.id),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({watched:!0})}).then(function(e){return e.json()}).then(function(e){})},a.handleViewMovie=function(){a.props.dispatch({type:"VIEW_MOVIE",payload:a.props.movie}),a.props.changeViewMovie()},a.renderWatchButton=function(){return!0===a.props.filtered?null:r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleWatchedMovie}," Watched ")},a.renderPage=function(){return a.props.clickedUserID?r.a.createElement("div",{style:{cursor:"pointer"},onClick:a.handleViewMovie},a.props.movie.title," ",r.a.createElement("br",null),r.a.createElement("img",{src:a.props.movie.poster,alt:"poster",width:"50",height:"50"})," ",r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement("div",{style:{cursor:"pointer"},onClick:a.handleViewMovie},a.props.movie.title," ",r.a.createElement("br",null),r.a.createElement("img",{src:a.props.movie.poster,alt:"poster",width:"50",height:"50"})," ",r.a.createElement("br",null)),r.a.createElement("div",{class:"divider"}),a.renderWatchButton(),r.a.createElement("div",{class:"divider"}),r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleRemoveMovie}," Remove "))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"watchlistMovie"},this.renderPage())}}]),t}(r.a.Component),ie=Object(T.b)(null)(re),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={list:[],viewMovieCheck:!1,viewMovie:null,filteredList:[],filtered:!1},a.fetchWatchlist=function(){var e=a.props.user.id;if(null===a.props.user)return a.props.history.push("/"),null;a.props.clickedUserID&&(e=a.props.clickedUserID),fetch("https://cinematch-api.herokuapp.com/users/".concat(e)).then(function(e){return e.json()}).then(function(e){if(!e.watchlist)return null;var t=[];e.watchlist.map(function(e){!0!==e.watched&&t.push(e)}),a.setState({list:t,filteredList:t,filtered:!1})})},a.fetchFilteredWatchlist=function(){var e=a.props.user.id;a.props.clickedUserID&&(e=a.props.clickedUserID),fetch("https://cinematch-api.herokuapp.com/users/".concat(e)).then(function(e){return e.json()}).then(function(e){var t=[];e.watchlist.map(function(e){!0===e.watched&&t.push(e)}),a.setState({filteredList:t,filtered:!0})})},a.changeList=function(e){a.setState({filteredList:a.state.filteredList.filter(function(t){return t.id!==e})})},a.changeViewMovie=function(e){a.setState({viewMovieCheck:!0})},a.changeToWatchlist=function(){!0===a.state.filtered?a.setState({viewMovieCheck:!1}):(a.setState({viewMovieCheck:!1}),a.fetchWatchlist()),document.querySelector("main").scrollTo(0,0)},a.handleWatchedMovies=function(){!1===a.state.filtered?a.fetchFilteredWatchlist():a.fetchWatchlist()},a.renderFilter=function(){return!1===a.state.viewMovieCheck?!1===a.state.filtered?r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleWatchedMovies},"View Watched"):r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleWatchedMovies},"View Unwatched"):null},a.handleBackButton=function(){a.props.dispatch({type:"CHANGE_CHATBOX_PAGE",payload:"Chatbox"})},a.renderBackButton=function(){if(a.props.clickedUserID)return r.a.createElement("div",{className:"watchlistBackButton"},r.a.createElement(W.a,{variant:"contained",color:"primary",onClick:a.handleBackButton,title:"Go Back"}," ",r.a.createElement(q.a,null)," "))},a.renderList=function(){return a.props.clickedUserID&&a.state.filteredList!==[]&&!1===a.state.viewMovieCheck?a.state.filteredList.map(function(e){return r.a.createElement("div",{className:"watchlist"},r.a.createElement(ie,{changeList:a.changeList,movie:e,changeViewMovie:a.changeViewMovie,filtered:a.state.filtered,clickedUserID:a.props.clickedUserID}))}):a.state.filteredList!==[]&&!1===a.state.viewMovieCheck?a.state.filteredList.map(function(e){return r.a.createElement("div",{className:"watchlist"},r.a.createElement(ie,{changeList:a.changeList,movie:e,changeViewMovie:a.changeViewMovie,filtered:a.state.filtered,clickedUserID:a.props.clickedUserID}))}):!0===a.state.viewMovieCheck?r.a.createElement("div",{className:"movieView"},r.a.createElement(Z,{changeToWatchlist:a.changeToWatchlist})):void 0},a.renderTitle=function(){return a.props.clickedUserID?r.a.createElement("h3",null,a.props.clickedUsername,"'s Watchlist"):!0===a.state.viewMovieCheck?null:r.a.createElement("h3",null,"Your Watchlist")},a.componentDidMount=function(){document.querySelector("main").scrollTo(0,0),a.props.user&&a.fetchWatchlist()},a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"watchlist"},r.a.createElement("div",{className:"top",ref:this.topRef}," "),this.renderBackButton(),this.renderTitle(),this.renderFilter(),this.renderList())}}]),t}(r.a.Component);var ce=Object(T.b)(function(e){return{user:e.user}})(oe),se=a(532),le=a(535),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.postUser=function(){fetch("https://cinematch-api.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):(a.props.setCurrentUser(e.user),a.props.dispatch({type:"SET_CURRENT_USER",payload:e.user}),localStorage.setItem("jwt",e.jwt),a.props.history.push("/"),a.postToFeedUsers(e.user))})},a.postToFeedUsers=function(e){fetch("https://cinematch-api.herokuapp.com/feed_users",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({username:e.username,feed_id:1,user_id:e.id})}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):a.props.dispatch({type:"SET_FEED_USER",payload:e})})},a.handleSubmit=function(){a.postUser()},a.componentDidMount=function(){document.querySelector("main").scrollTo(0,0)},a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"top",ref:this.topRef},r.a.createElement(se.a,{onSubmit:this.handleSubmit},r.a.createElement(se.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{onChange:this.handleChange,name:"username",value:this.state.username,placeholder:"Username"})),r.a.createElement(se.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:this.state.password,placeholder:"Password"})),r.a.createElement(le.a,{type:"submit"},"Log In")))}}]),t}(r.a.Component),pe=Object(T.b)(null)(ue),he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",passwordConfirmation:""},a.handleChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.postToFeedUsers=function(e){fetch("https://cinematch-api.herokuapp.com/feed_users",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({username:e.username,feed_id:1,user_id:e.id})}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):a.props.dispatch({type:"SET_FEED_USER",payload:e})})},a.handleSubmit=function(e){a.state.password===a.state.passwordConfirmation?fetch("https://cinematch-api.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):(a.props.dispatch({type:"SET_CURRENT_USER",payload:e}),a.props.history.push("/"),a.postToFeedUsers(e.user))}):alert("Passwords don't match!")},a.componentDidMount=function(){document.querySelector("main").scrollTo(0,0)},a.topRef=r.a.createRef(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"top",ref:this.topRef},r.a.createElement(se.a,{onSubmit:this.handleSubmit},r.a.createElement(se.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{onChange:this.handleChange,name:"username",value:this.state.username,placeholder:"Username"})),r.a.createElement(se.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:this.state.password,placeholder:"Password"})),r.a.createElement(se.a.Field,null,r.a.createElement("label",null,"Password Confirmation"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"passwordConfirmation",value:this.state.passwordConfirmation,placeholder:"Password Confirmation"})),r.a.createElement(le.a,{type:"submit"},"Sign Up")))}}]),t}(r.a.Component),me=Object(T.b)(null)(he),de=a(248),ve=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={background:"#fff"},a.handleChangeComplete=function(e){a.setState({background:e.hex}),console.log(e.hex),a.props.dispatch({type:"SET_PRIMARY_COLOR",payload:e.hex})},a.componentDidMount=function(){document.querySelector("main").scrollTo(0,0)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"colorPicker"},r.a.createElement(de.SketchPicker,{color:this.state.background,onChangeComplete:this.handleChangeComplete}))}}]),t}(r.a.Component);var fe=Object(T.b)(function(e){return{primaryColor:e.primaryColor}})(ve);var ge=Object(T.b)(function(e){return{isHidden:e.isHidden}})(function(e){return r.a.createElement("div",{className:"mainImage"},r.a.createElement("img",{src:"https://visualhunt.com/photos/1/night-television-tv-video.jpg?s=l",className:"mainImage",width:"100%",height:"100%"}))}),Ee=a(60),be=a(133),we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.onChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(e){if(e.preventDefault(),""!=a.state.value){var t=null;a.props.user.id?t=a.props.user.id:a.props.user.user.id&&(t=a.props.user.user.id),R.createPost({content:a.state.value,feed_id:1,user_id:t}).then(function(e){a.props.fetchPosts()}),a.setState({value:""})}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui secondary segment postForm"},r.a.createElement("form",{onSubmit:this.handleSubmit,action:""},r.a.createElement("div",{className:"ui fluid input"},r.a.createElement("input",{onChange:this.onChange,value:this.state.value,type:"text"}),r.a.createElement("button",{className:"ui basic blue button",type:"submit"},"Add a Post"))))}}]),t}(r.a.Component);var ye=Object(T.b)(function(e){return{user:e.user}})(we);var Ce=Object(T.b)(function(e){return{search:e.search}})(function(e){var t=function(t){e.dispatch({type:"VIEW_MOVIE",payload:e.post}),e.dispatch({type:"CHANGE_CHATBOX_PAGE",payload:"MovieView"})};return r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"summary"},r.a.createElement("h3",null,e.post.user.username,": ",(e.post,e.post.content&&0===e.post.content.search("http")?r.a.createElement("div",null,r.a.createElement("img",{style:{cursor:"pointer"},className:"picture",src:e.post.content,onClick:t,alt:"poster",width:"50",height:"50"})):e.post.content)),r.a.createElement("p",null,e.post.date)),r.a.createElement("div",{className:"meta"},r.a.createElement("a",{href:"/",className:"like",onClick:function(e){e.preventDefault()}})))))}),Oe=function(e){var t=e.posts;e.newPostCount,e.handleDisplayPosts;return r.a.createElement("div",null,r.a.createElement("div",{className:"ui feed"},t.map(function(e){return r.a.createElement(Ce,{key:e.id,post:e})})))},Me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={displayedPosts:[],newPosts:[],users:[],clickedUserID:null,clickedUsername:null,realUsers:null},a.addPost=function(e){a.setState(function(t){return{newPosts:[].concat(Object(Ee.a)(t.newPosts),[e])}})},a.handleDisplayPosts=function(){a.setState(function(e){return{displayedPosts:[].concat(Object(Ee.a)(e.displayedPosts),Object(Ee.a)(e.newPosts)),newPosts:[]}})},a.fetchPosts=function(){fetch("https://cinematch-api.herokuapp.com/posts").then(function(e){return e.json()}).then(function(e){a.setState({newPosts:e.reverse()},a.fetchFeedUsers)})},a.fromChatbox=function(){return"hi i'm from chatbox"},a.fetchFeedUsers=function(){fetch("https://cinematch-api.herokuapp.com/feed_users").then(function(e){return e.json()}).then(function(e){var t=new Set,n=e.filter(function(e){return!t.has(e.username)&&(t.add(e.username),!0)});a.setState({users:n})})},a.fetchUsers=function(){fetch("https://cinematch-api.herokuapp.com/users").then(function(e){return e.json()}).then(function(e){a.setState({realUsers:e})})},a.handleUserWatchlist=function(e){var t=e.target.innerText.substring(1),n=a.state.realUsers.find(function(e){return e.username===t});a.setState({clickedUserID:n.id,clickedUsername:e.target.innerText}),a.props.dispatch({type:"CHANGE_CHATBOX_PAGE",payload:"Watchlist"})},a.renderUsers=function(){if(a.state.users.length>0)return a.state.users.map(function(e){return r.a.createElement("div",{className:"underline",style:{cursor:"pointer"},onClick:a.handleUserWatchlist,id:e.id},r.a.createElement("br",null),e.username)})},a.renderPage=function(){return"MovieView"===a.props.chatboxPage?r.a.createElement(Z,{fromChatbox:a.fromChatbox,fetchPosts:a.fetchPosts}):"Watchlist"===a.props.chatboxPage&&null!==a.state.clickedUserID?r.a.createElement(ce,{clickedUserID:a.state.clickedUserID,clickedUsername:a.state.clickedUsername}):r.a.createElement("div",{id:"container"},r.a.createElement("aside",{id:"sidebar"},"Users ",r.a.createElement("br",null),a.renderUsers()),r.a.createElement("section",{id:"main"},r.a.createElement(be.ActionCableConsumer,{channel:{channel:"FeedChannel"},onReceived:function(e){a.fetchPosts()}}),r.a.createElement("section",{id:"new-message"},r.a.createElement(ye,{addPost:a.addPost,fetchPosts:a.fetchPosts})),r.a.createElement("section",{id:"messages-list"},r.a.createElement(Oe,{posts:a.state.newPosts}))))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.querySelector("main").scrollTo(0,0),this.props.dispatch({type:"CHANGE_CHATBOX_PAGE",payload:"Chatbox"}),this.fetchPosts(),this.fetchUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Feed"},this.renderPage())}}]),t}(r.a.Component);var Se=Object(T.b)(function(e){return{chatboxPage:e.chatboxPage,user:e.user,users:e.users}})(Me),je=a(72),ke=a(529),Pe=a(530),_e=a(531),Te=a(253),Ue=a.n(Te),Ie=a(257),Be=a.n(Ie),De=a(258),Ne=a.n(De),Re=a(254),We=a.n(Re),Ae=a(259),xe=a.n(Ae),Ve=a(255),Le=a.n(Ve),Ge=a(256),Fe=a.n(Ge),He=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.logout=function(){a.props.logout(),localStorage.clear()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{position:"absolute",className:v()(t.appBar,this.state.open&&t.appBarShift)},r.a.createElement(w.a,{disableGutters:!this.state.open,className:t.toolbar},r.a.createElement(M.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:v()(t.menuButton,this.state.open&&t.menuButtonHidden)},r.a.createElement(j.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},r.a.createElement("h1",null,"Cinematch")))),r.a.createElement(E.a,{variant:"permanent",classes:{paper:v()(t.drawerPaper,!this.state.open&&t.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(M.a,{onClick:this.handleDrawerClose},r.a.createElement(P.a,null))),r.a.createElement(O.a,null),r.a.createElement(y.a,null,this.props.user||this.props.currentUser?r.a.createElement("div",null,r.a.createElement(ke.a,{button:!0,component:_.b,to:"/home"},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(_e.a,{primary:"Home"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/topmovies"},r.a.createElement(Pe.a,null,r.a.createElement(We.a,null)),r.a.createElement(_e.a,{primary:"Top Movies"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/search"},r.a.createElement(Pe.a,null,r.a.createElement(Le.a,null)),r.a.createElement(_e.a,{primary:"Search"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/watchlist"},r.a.createElement(Pe.a,null,r.a.createElement(X.a,null)),r.a.createElement(_e.a,{primary:"Watchlist"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/chatbox"},r.a.createElement(Pe.a,null,r.a.createElement(F.a,null)),r.a.createElement(_e.a,{primary:"Chat"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/color"},r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,null)),r.a.createElement(_e.a,{primary:"Color"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/login",onClick:this.logout},r.a.createElement(Pe.a,null,r.a.createElement(Be.a,null)),r.a.createElement(_e.a,{primary:"Log Out"}))):r.a.createElement("div",null,r.a.createElement(ke.a,{button:!0,component:_.b,to:"/login"},r.a.createElement(Pe.a,null,r.a.createElement(Ne.a,null)),r.a.createElement(_e.a,{primary:"Log In"})),r.a.createElement(ke.a,{button:!0,component:_.b,to:"/signup"},r.a.createElement(Pe.a,null,r.a.createElement(xe.a,null)),r.a.createElement(_e.a,{primary:"Sign Up"})))),r.a.createElement(O.a,null)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(C.a,{variant:"h4",gutterBottom:!0,component:"h2"},r.a.createElement(je.d,null,r.a.createElement(je.b,{path:"/home",render:function(e){return r.a.createElement(ge,e)}}),r.a.createElement(je.b,{path:"/topmovies",render:function(t){return r.a.createElement(ne,Object.assign({changePage:e.props.changePage},t))}}),r.a.createElement(je.b,{path:"/watchlist",render:function(t){return r.a.createElement(ce,Object.assign({changePage:e.props.changePage},t))}}),r.a.createElement(je.b,{path:"/login",render:function(t){return r.a.createElement(pe,Object.assign({},t,{setCurrentUser:e.props.setCurrentUser,changePage:e.props.changePage}))}}),r.a.createElement(je.b,{path:"/signup",render:function(t){return r.a.createElement(me,Object.assign({},t,{setCurrentUser:e.props.setCurrentUser,changePage:e.props.changePage}))}}),r.a.createElement(je.b,{path:"/search",render:function(t){return r.a.createElement(K,Object.assign({changePage:e.props.changePage},t))}}),r.a.createElement(je.b,{path:"/chatbox",render:function(t){return r.a.createElement(Se,Object.assign({changePage:e.props.changePage},t))}}),r.a.createElement(je.b,{path:"/color",render:function(e){return r.a.createElement(fe,e)}}),r.a.createElement(je.a,{from:"/",to:"/home"}))),r.a.createElement(C.a,{component:"div",className:t.chartContainer}),r.a.createElement(C.a,{variant:"h4",gutterBottom:!0,component:"h2"}),r.a.createElement("div",{className:t.tableContainer})))}}]),t}(r.a.Component);var qe=Object(T.b)(function(e){return{user:e.user}})(Object(f.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(h.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},chartContainer:{marginLeft:-22},tableContainer:{height:320},h5:{marginBottom:2*e.spacing.unit}}})(He)),Je=(a(481),a(537)),Xe=a(261),Ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:null},a.setCurrentUser=function(e){a.setState({currentUser:e})},a.logout=function(){localStorage.clear(),a.deleteFromFeedUser(),a.props.dispatch({type:"SET_CURRENT_USER",payload:null}),a.setState({currentUser:null},function(){a.props.history.push("/login")})},a.deleteFromFeedUser=function(){fetch("https://cinematch-api.herokuapp.com/feed_users/".concat(a.props.feedUser.id),{method:"DELETE"})},a.theme1=function(){return{palette:{primary:{main:a.props.primaryColor},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}}}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("jwt");t&&fetch("https://cinematch-api.herokuapp.com/auto_login",{headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){t.errors?alert(t.errors):(e.setState({currentUser:t}),e.props.dispatch({type:"SET_CURRENT_USER",payload:t}))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Je.a,{theme:Object(Xe.a)(this.theme1())},r.a.createElement(qe,{currentUser:this.state.currentuser,logout:this.logout,changePage:this.changePage,setCurrentUser:this.setCurrentUser,setPrimaryColor:this.props.setPrimaryColor})),",")}}]),t}(n.Component);var ze=Object(T.b)(function(e){return{viewMovie:e.viewMovie,user:e.user,users:e.users,feedUser:e.feedUser,isHidden:e.isHidden,primaryColor:e.primaryColor}})(Ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe={search:"",watchlist:[],viewMovie:null,movieInfo:null,user:null,users:[],badData:!1,history:[],chatboxPage:"",feedUser:null,isHidden:!1,primaryColor:"#323232"};var Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_MOVIES":return Object(m.a)({},e,{search:t.payload});case"WATCH_MOVIE":return Object(m.a)({},e,{watchlist:[].concat(Object(Ee.a)(e.watchlist),[t.payload])});case"VIEW_MOVIE":return Object(m.a)({},e,{viewMovie:t.payload});case"SET_CURRENT_USER":return Object(m.a)({},e,{user:t.payload});case"SET_FEED_USER":return Object(m.a)({},e,{feedUser:t.payload});case"ADD_TO_USERS":return Object(m.a)({},e,{users:[].concat(Object(Ee.a)(e.users),[t.payload])});case"REMOVE_USER_FROM_USERS":return Object(m.a)({},e,{users:[].concat(Object(Ee.a)(e.users.slice(0,t.payload)),Object(Ee.a)(e.users.slice(t.payload+1)))});case"HIDE_APP":return Object(m.a)({},e,{isHidden:t.payload});case"SET_PRIMARY_COLOR":return Object(m.a)({},e,{primaryColor:t.payload});case"FETCH_MOVIE":!function(e){var t=this;fetch("https://api.themoviedb.org/3/find/".concat(e.imdbID,"?api_key=3eb68659d6134fa388c1a0220feb7fd1&external_source=imdb_id")).then(function(e){return e.json()}).then(function(e){0!==e.movie_results.length?t.setState({movieInfo:e.movie_results[0]}):0!==e.tv_results.length?t.setState({movieInfo:e.tv_results[0]}):t.setState({badData:!0})})}(t.payload);case"CHANGE_CHATBOX_PAGE":return Object(m.a)({},e,{chatboxPage:t.payload});default:return e}},$e=a(260),Ke=a(85),et=Object(Ke.c)(Ze,Object(Ke.a)($e.a));o.a.render(r.a.createElement(_.a,null,r.a.createElement(be.ActionCableProvider,{url:"ws://localhost:3000/cable"},r.a.createElement(T.a,{store:et},r.a.createElement(je.b,{path:"/",render:function(e){return r.a.createElement(ze,e)}})," />"))),document.getElementById("root"))}},[[275,1,2]]]);
//# sourceMappingURL=main.a957784c.chunk.js.map